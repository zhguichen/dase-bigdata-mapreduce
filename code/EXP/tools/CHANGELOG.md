# æ›´æ–°æ—¥å¿— (Changelog)

## [2.0.0] - 2025-11-27

### âœ¨ æ–°å¢åŠŸèƒ½

#### Counters API é›†æˆ
- é›†æˆ JobHistory Counters APIï¼Œæå–å®Œæ•´çš„ä½œä¸šæ€§èƒ½æŒ‡æ ‡
- è‡ªåŠ¨æå– CPU å’Œèµ„æºä½¿ç”¨æ•°æ®ï¼ˆCPU æ—¶é—´ã€GC æ—¶é—´ï¼‰
- è‡ªåŠ¨æå–å†…å­˜ä½¿ç”¨æ•°æ®ï¼ˆç‰©ç†å†…å­˜ã€è™šæ‹Ÿå†…å­˜ã€å †å†…å­˜ã€å³°å€¼å†…å­˜ï¼‰
- è‡ªåŠ¨æå–æ•°æ®è§„æ¨¡æŒ‡æ ‡ï¼ˆHDFS è¯»å†™ã€Map/Reduce è¾“å…¥è¾“å‡ºã€Shuffle æ•°æ®é‡ï¼‰

#### æ•°æ®å€¾æ–œåˆ†æ
- æ–°å¢ Reduce ä»»åŠ¡ç»Ÿè®¡å­—æ®µï¼ˆmin/max/avg/stddevï¼‰
- æ–°å¢æ¯ä¸ª Reduce çš„è¯¦ç»†è€—æ—¶ä¿¡æ¯ï¼ˆ`reduce_tasks[]` æ•°ç»„ï¼‰
- æ–°å¢å„é˜¶æ®µè¯¦ç»†æ—¶é—´ç»Ÿè®¡ï¼ˆShuffle/Merge/Reduce çš„ min/max/avgï¼‰
- æ”¯æŒè¯†åˆ«"æ…¢ä»»åŠ¡"å’Œé‡åŒ–å€¾æ–œç¨‹åº¦

#### ä½œä¸šæ¦‚è§ˆä¿¡æ¯
- æ–°å¢ Job Nameã€Stateã€Uberized ç­‰å­—æ®µ
- æ–°å¢æ—¶é—´æˆ³å­—æ®µï¼ˆæäº¤ã€å¼€å§‹ã€å®Œæˆæ—¶é—´çš„æ¯«ç§’æ—¶é—´æˆ³ï¼‰
- æ–°å¢å¯è¯»æ—¶é—´æ ¼å¼ï¼ˆæ ¼å¼åŒ–åçš„æ—¶é—´å­—ç¬¦ä¸²ï¼‰
- æ–°å¢è€—æ—¶å¯è¯»æ ¼å¼ï¼ˆå¦‚ "1mins, 15sec"ï¼‰

### ğŸ“ æ–‡æ¡£æ›´æ–°
- åˆ›å»º `FIELD_SPECIFICATION.md` - å®Œæ•´å­—æ®µè§„èŒƒæ–‡æ¡£
  - è¯¦ç»†çš„å­—æ®µå®šä¹‰è¡¨
  - å­—æ®µæ¥æºå’Œå•ä½è¯´æ˜
  - JSON ç»“æ„ç¤ºä¾‹
  - ä½¿ç”¨æŒ‡å—

- åˆ›å»º `FIELD_QUICK_REFERENCE.md` - å­—æ®µå¿«é€Ÿå‚è€ƒè¡¨
  - æŒ‰åŠŸèƒ½åˆ†ç±»çš„å­—æ®µåˆ—è¡¨
  - ä¸ Web UI çš„å¯¹åº”å…³ç³»
  - æ•°æ®å€¾æ–œåˆ†æå…³é”®å­—æ®µ
  - å„ä»»åŠ¡æ¨èå…³æ³¨çš„å­—æ®µ
  - å•ä½è½¬æ¢é€ŸæŸ¥è¡¨

- æ›´æ–° `README.md`
  - æ›´æ–°ä¸º v2.0 åŠŸèƒ½è¯´æ˜
  - æ–°å¢å­—æ®µåˆ†ç±»å’Œç”¨é€”è¡¨
  - æ–°å¢æ•°æ®å€¾æ–œåˆ†ææŒ‡æ ‡è¯´æ˜
  - æ–°å¢å­—æ®µæå–æ¥æºè¯´æ˜
  - æ–°å¢ç‰ˆæœ¬æ›´æ–°è¯´æ˜

- åˆ›å»º `CHANGELOG.md` - æœ¬æ–‡ä»¶

### ğŸ”§ ä»£ç æ”¹è¿›
- æ–°å¢ `fetch_counters()` æ–¹æ³•æå– Counters æ•°æ®
- æ–°å¢ `get_counter_value()` è¾…åŠ©æ–¹æ³•è§£æ Counter å€¼
- å¢å¼º `extract_timing_info()` æ–¹æ³•ï¼Œæ•´åˆ Counters æ•°æ®
- å¢å¼º `_print_timing_info()` æ–¹æ³•ï¼Œæ˜¾ç¤ºæ–°å¢å­—æ®µ
- æ‰¹é‡å¤„ç†æ¨¡å¼è‡ªåŠ¨è°ƒç”¨ `fetch_counters()`

### ğŸ“Š æ–°å¢å­—æ®µæ±‡æ€»

**æ—¶é—´ç»Ÿè®¡** (3 å­—æ®µ):
- `job_elapsed_time`: ä½œä¸šæ€»è€—æ—¶
- `total_map_time`: æ‰€æœ‰ Map tasks æ€»è€—æ—¶
- `total_reduce_time`: æ‰€æœ‰ Reduce tasks æ€»è€—æ—¶

**ä½œä¸šæ¦‚è§ˆ** (10 å­—æ®µ):
- `job_name`, `state`, `uberized`
- `submit_time_ts`, `start_time_ts`, `finish_time_ts`
- `submit_time_str`, `start_time_str`, `finish_time_str`, `elapsed_time_str`

**CPU å’Œèµ„æº** (2 å­—æ®µ):
- `cpu_time`: CPU æ€»è€—æ—¶
- `gc_time`: GC æ€»è€—æ—¶

**å†…å­˜ä½¿ç”¨** (7 å­—æ®µ):
- `physical_memory_bytes`, `virtual_memory_bytes`, `committed_heap_bytes`
- `peak_map_physical_memory`, `peak_reduce_physical_memory`
- `peak_map_virtual_memory`, `peak_reduce_virtual_memory`

**æ•°æ®è§„æ¨¡** (12 å­—æ®µ):
- `hdfs_bytes_read`, `hdfs_bytes_written`
- `file_bytes_read`, `file_bytes_written`
- `map_input_records`, `map_input_bytes`, `map_output_records`, `map_output_bytes`
- `reduce_input_records`, `reduce_input_groups`, `reduce_output_records`
- `shuffled_maps`

**Shuffle** (1 å­—æ®µ):
- `reduce_shuffle_bytes`

**æ•°æ®å€¾æ–œåˆ†æ** (5 å­—æ®µ):
- `min_reduce_elapsed`, `max_reduce_elapsed`, `avg_reduce_elapsed`
- `reduce_elapsed_stddev` â˜… å…³é”®å€¾æ–œæŒ‡æ ‡
- `reduce_tasks[]` - æ¯ä¸ª Reduce çš„è¯¦ç»†ä¿¡æ¯æ•°ç»„

**é˜¶æ®µç»Ÿè®¡** (3 å¯¹è±¡):
- `shuffle_time`: {min, max, avg}
- `merge_time`: {min, max, avg}
- `reduce_time`: {min, max, avg}

**åˆè®¡**: æ–°å¢çº¦ **50+ å­—æ®µ**

### ğŸ”„ å…¼å®¹æ€§
- âœ… **å‘ä¸‹å…¼å®¹** v1.0 æ ¼å¼
- âœ… æ‰€æœ‰ v1.0 å­—æ®µåœ¨ v2.0 ä¸­ç»§ç»­æœ‰æ•ˆ
- âœ… æ—§ç‰ˆæœ¬ JSON æ–‡ä»¶å¯ä»¥ä½¿ç”¨æ–°å·¥å…·å¢å¼º
- âœ… Counters è·å–å¤±è´¥ä¸å½±å“åŸºæœ¬æ—¶é—´ä¿¡æ¯æå–

### ğŸ¯ ä½¿ç”¨åœºæ™¯
- **ä»»åŠ¡ 1**: slowstart å‚æ•°æ•æ„Ÿæ€§åˆ†æ
- **ä»»åŠ¡ 2**: æ•°æ®è§„æ¨¡æ‰©å±•æ€§æµ‹è¯•
- **ä»»åŠ¡ 3**: ä¸åŒå·¥ä½œè´Ÿè½½å¯¹æ¯”
- **ä»»åŠ¡ 4**: æ•°æ®å€¾æ–œæ£€æµ‹å’Œåˆ†æ â­ï¸ v2.0 é‡ç‚¹æ”¯æŒ

---

## [1.0.0] - 2025-11-26

### âœ¨ åˆå§‹ç‰ˆæœ¬

#### æ ¸å¿ƒåŠŸèƒ½
- ä» JobHistory Server REST API æå–ä½œä¸šæ—¶é—´ä¿¡æ¯
- æ”¯æŒå•ä¸ªä½œä¸šæå–å’Œæ‰¹é‡å¤„ç†æ¨¡å¼
- é›†æˆ Job Info API å’Œ Tasks API

#### æå–çš„ä¿¡æ¯
- Map é˜¶æ®µå®Œæˆæ—¶é—´ç‚¹
- ç¬¬ä¸€ä¸ª Reduce å¯åŠ¨æ—¶é—´ç‚¹
- æ‰€æœ‰ Reduce å®Œæˆæ—¶é—´ç‚¹
- Map/Reduce tasks æ•°é‡
- ä½œä¸šæ€»è€—æ—¶

#### é…ç½®
- JobHistory Server: `172.31.12.133:19888`
- æ”¯æŒè‡ªå®šä¹‰ API åœ°å€

#### æ–‡æ¡£
- åŸºç¡€ `README.md`
- ä½¿ç”¨ç¤ºä¾‹å’Œæ•…éšœæ’é™¤

---

## ç‰ˆæœ¬è§„èŒƒ

æœ¬é¡¹ç›®éµå¾ªè¯­ä¹‰åŒ–ç‰ˆæœ¬å· (Semantic Versioning):
- **ä¸»ç‰ˆæœ¬å· (Major)**: ä¸å…¼å®¹çš„ API å˜æ›´
- **æ¬¡ç‰ˆæœ¬å· (Minor)**: å‘ä¸‹å…¼å®¹çš„åŠŸèƒ½æ–°å¢
- **ä¿®è®¢å· (Patch)**: å‘ä¸‹å…¼å®¹çš„é—®é¢˜ä¿®å¤

å½“å‰ç‰ˆæœ¬: **2.0.0**

